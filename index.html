// Hansila Swipe Poetry App – Final Enhanced Version with Video & Tinder+Instagram Features
import React, { useState } from "react";
import TinderCard from "react-tinder-card";
import "./App.css";

const poems = [
  {
    title: "Ek Paigam",
    image: "images/ek-paigam.jpeg",
  },
  {
    title: "4 Baatein 2 Yaadein",
    image: "images/4-baatein.jpeg",
  },
  {
    title: "Ghar Ek Yaad",
    image: "images/ghar-ek-yaad.jpeg",
  },
  {
    title: "Koyal",
    image: "images/koyal.jpeg",
  },
  {
    title: "Samandar",
    image: "images/samandar.jpeg",
  },
  {
    title: "Zindagi Ek Parindaa",
    image: "images/zindagi-parindaa.jpeg",
  },
  {
    title: "Zindagi Ek Safar",
    image: "images/zindagi-safar.jpeg",
  },
];

const videos = [
  {
    title: "Kaun Hoon Mein",
    video: "videos/kaun-hoon-mein.mp4",
  },
  {
    title: "Inferno Tide",
    video: "videos/inferno-tide.mp4",
  },
  {
    title: "Cycle of Time",
    video: "videos/cycle-of-time.mp4",
  },
  {
    title: "Dastaan",
    video: "videos/dastaan.mp4",
  },
  {
    title: "Waqt Ke Paar",
    video: "videos/waqt-ke-paar.mp4",
  },
];

export default function App() {
  const [liked, setLiked] = useState([]);

  const handleLike = (title) => {
    if (!liked.includes(title)) {
      setLiked([...liked, title]);
    }
  };

  return (
    <div className="min-h-screen bg-[#FAF8F5] flex flex-col items-center justify-center">
      <h1 className="text-4xl font-bold mt-8 font-serif">Hansila</h1>
      <p className="text-lg italic mb-6">Swipe. Feel. Like. Repeat.</p>

      {/* Poem Swipe Gallery */}
      <div className="w-full max-w-md h-[550px] relative mb-12">
        {poems.map((poem) => (
          <TinderCard
            key={poem.title}
            preventSwipe={["up", "down"]}
            onCardLeftScreen={() => console.log(`${poem.title} left the screen`)}
          >
            <div
              className="absolute bg-white shadow-xl rounded-xl w-full h-[500px] p-4 flex flex-col items-center justify-center transition-transform duration-300 border-4 border-[#E5CFCF]"
              onDoubleClick={() => handleLike(poem.title)}
              style={{
                backgroundImage: `url(${poem.image})`,
                backgroundSize: "cover",
                backgroundPosition: "center",
              }}
            >
              {liked.includes(poem.title) && (
                <div className="text-red-600 text-5xl animate-ping">❤️</div>
              )}
            </div>
          </TinderCard>
        ))}
      </div>

      {/* Video Carousel */}
      <h2 className="text-2xl font-semibold mb-4 font-serif">Video Series</h2>
      <div className="grid grid-cols-1 gap-6 w-full max-w-xl px-4">
        {videos.map((vid) => (
          <div key={vid.title} className="rounded-xl overflow-hidden shadow-lg border border-[#E5CFCF]">
            <video controls className="w-full">
              <source src={vid.video} type="video/mp4" />
              Your browser does not support the video tag.
            </video>
            <div className="p-4 bg-white">
              <h3 className="text-lg font-semibold text-center">{vid.title}</h3>
            </div>
          </div>
        ))}
      </div>

      <footer className="mt-16 mb-8 text-center text-sm text-gray-500">
        Built with ❤️ by Swarnim Suhane
      </footer>
    </div>
  );
}
